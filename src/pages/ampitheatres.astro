---
import Layout from '../layouts/Layout.astro';
import Map from "../components/WorldMap.svelte"
import BarChart from "../components/BarChart.svelte"
import LineChart from "../components/LineChart.svelte"
import ScatterPlot from "../components/ScatterPlot.svelte"

import * as d3 from "d3"

---
<Layout>
    <div class="p-6 bg-[#e9ceb9] text-white w-full min-h-screen flex">
        <div class="flex flex-col p-3 justify-center align-center text-center min-h-screen w-full md:basis-1/2">
            
            <h2 class="text-6xl font-bold text-uppercase text-black uppercase">Roman Ampitheatres</h2>
            
        </div>
        <div class="invisible w-0 md:visible md:w-full md:basis-1/2 md:min-h-screen">
            <div class="rounded-lg bg-cover w-full h-full"
                style={`background-image:url(${import.meta.env.BASE_URL+"/ampitheatre.png"})`}></div>   
            </div>
        </div>
    <div class="bg-white p-6">
        <BarChart 
            filename="roman-ampitheatres-processed.xlsx" 
            title="The Largest Capacity Ampitheatres in Ancient Rome all Tended to be Nearer to Sea Level" 
            subtitle="The Highest Capacity Ampitheatres Were All Below 320m" 
            xAxisDataField="elevation",
            xAxisLabel="Elevation (m)",
            yAxisDataField="capacity",
            yAxisLabel="Capacity (people)",
            fillDataField="capacity",
            colorconfig={{scheme:"Purples", domain:[0,50000]}},
            styleOverrides={{fontSize:"11"}}
            width={800}
            height={800}
            client:load
            
        />
    </div>
    <div class="p-6 bg-base-300">
        


        
        <ScatterPlot 
            filename="roman-ampitheatres-processed.xlsx" 
            sheetIndex={1}
            title="Large Ampitheatres are Built Closer to Sea Level" 
            subtitle="The Largest Capacity Theatres all Tended to be at a lower elevation" 
            xAxisDataField="elevation",
            xAxisLabel="Elevation (m)",
            yAxisDataField="capacity",
            yAxisLabel="Capacity (people)",
            fillDataField="elevation",
            xDomain={[-20,1200]}
            yDomain={[0,52000]}
            width={800}
            height={800}
            colorconfig={{scheme:"Oranges", domain:[0,2300], reverse:true}}
            styleOverrides={{fontSize:"11"}}
            client:load
        />

        

        
    </div>
    <div class="bg-white p-6">
        <LineChart 
            filename="roman-ampitheatres-processed.xlsx" 
            sheetIndex={2}
            title="Average Ampitheatre Size Did Not Depend on Time Period" 
            subtitle="The average size of ampitheatres remained stable until the end of the empire" 
            xAxisDataField="chronogroup",
            xAxisLabel="Period",
            yAxisDataField="exteriorArea",
            yAxisLabel="Average Exterior Area (m^2)",
            lineColor="blue",
            styleOverrides={{fontSize:"11"}}
            xFormat={["republican","caesarean","augustan","julio-claudian","neronian","flavian","first-century","late-first-century","late-first early-second century","trajanic","hadrianic","second-century","late-second century","severan","third-century","post-severan","fourth-century","imperial"]}
            width={1500}
            client:load
        />
    </div>

    <div class="p-6 bg-black text-white">
        <Map 
            filename="roman-ampitheatres-processed.xlsx" 
            sheetIndex={3}
            title="Larger Ampitheatres Tended to be Less Clumped" 
            subtitle="The Largest Ampitheatres Tended to be in Areas That Had Less Overall Ampitheatres" 
            sizeBy="capacity"
            client:load
            width={1200}
            height={600}
            dotColors={"Reds"}
        />
    </div>


    <h3 class="p-6 bg-base-300 text-xl pb-6">The below charts are based on data taken and filtered from <a class="text-primary" href="https://github.com/roman-amphitheaters/roman-amphitheaters" target="_blank">here</a> </h3>
</Layout>
